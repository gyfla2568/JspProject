<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<link href="https://fonts.googleapis.com/css2?family=Black+Han+Sans&family=Dokdo&family=East+Sea+Dokdo&family=Gugi&family=Hi+Melody&family=Sunflower:wght@300&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<style type="text/css">
#show{
	font-family: 'Black Han Sans';
	font-size: 1.3em;
	margin-top: 30px;
}
</style>

</head>
<body>
<h2>JQuery의 get함수의 xml데이터 읽기</h2>
<button type="button" class="btn btn-success" id="btn1">teamtoxml</button>

<h2>JQuery의 getJson함수의 Json데이타읽기</h2>
<button type="button" class="btn btn-danger" id="btn2">infotojson</button>


<div id="show"></div>
<script type="text/javascript">

//xml
$("#btn1").click(function(){
	
	$.get("teamtoxml.jsp",function(data){
		
		var s="";
		$(data).find("team").each(function(i,ele){
			
			var n=$(ele);
			s+="<div class='alert alert-danger' style='width:400px;'>";
			s+="No: "+n.attr("num")+",";
			s+="이름: "+n.find("name").text()+"<br>";
			s+="운전면허:"+n.find("driver").text()+"<br>";
			s+="주소: "+n.find("addr").text()+"<br>";
			s+="작성일: "+n.find("writeday").text();
			s+="</div>";
			
		});
		
		$("#show").html(s);
	});
	
});

//json
$("#btn2").click(function(){
	$.getJSON("infotojson.jsp",function(data){
		
		var s="";
		//데이터 배열타입을 $.each해줘야한다
		$.each(data,function(i,item){
			
			s+="<div class='alert alert-info' style='width:300px;'>";
			s+="index: "+i+"<br>";
			s+="num: "+item.num+"<br>";
			s+="이름: "+item.name+"<br>";
			s+="핸드폰: "+item.hp+"<br>";
			s+="나이: "+item.age+"<br>";
			s+="<img src='"+item.photo+"'width='100'>";
			s+="</div>";
			
		});
		$("#show").html(s);
		
		
		
	});
});
</script>

</body>
</html>